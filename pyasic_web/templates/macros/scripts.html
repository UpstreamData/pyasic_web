{% macro create_get_api_data(api_key) -%}
    <script>
        function getAPIData(path, selector) {
          const url = `/api/v1/${path}/`;

          const options = {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'accept': 'application/json'
            },
            body: JSON.stringify({"api_key": "{{api_key}}", "miner_selector": selector})
          };

          return fetch(url, options)
            .then(response => response.json());
        }
    </script>
{%- endmacro %}
